<div id="unit-management-container">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <div>
            <h4><i class="bi bi-building-gear"></i> 單位管理</h4>
            <p class="text-muted small mb-0">在此管理單位的基本資訊、職稱列表與組別列表。</p>
        </div>
        <button id="btn-create-new-unit" class="btn btn-warning d-none">
            <i class="bi bi-plus-circle"></i> 新增單位
        </button>
    </div>

    <ul class="nav nav-tabs mb-4" id="unitMgmtTab" role="tablist">
        <li class="nav-item">
            <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-basic-info" type="button">
                基本資料
            </button>
        </li>
        <li class="nav-item">
            <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-params" type="button">
                參數設定 (職稱/組別)
            </button>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade show active" id="tab-basic-info">
            <div class="card shadow-sm" style="max-width: 600px;">
                <div class="card-body">
                    <form id="unit-info-form">
                        <div class="mb-3">
                            <label class="form-label">單位代號 (Unit ID)</label>
                            <input type="text" id="mgmt-unit-id" class="form-control" disabled>
                            <div class="form-text">代號不可修改。</div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">單位名稱</label>
                            <input type="text" id="mgmt-unit-name" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">管理者</label>
                            <input type="text" id="mgmt-admin-name" class="form-control" disabled>
                        </div>
                        <hr>
                        <div class="text-end">
                            <button type="submit" class="btn btn-primary" id="btn-save-unit-info">
                                <i class="bi bi-save"></i> 儲存變更
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="tab-params">
            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-header bg-light fw-bold"><i class="bi bi-person-badge"></i> 職稱管理</div>
                        <div class="card-body">
                            <div class="input-group mb-3">
                                <input type="text" id="input-new-title" class="form-control" placeholder="新增職稱...">
                                <button class="btn btn-outline-primary" id="btn-add-title" type="button">新增</button>
                            </div>
                            <ul class="list-group list-group-flush border-top" id="list-titles"></ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-header bg-light fw-bold"><i class="bi bi-people"></i> 組別管理</div>
                        <div class="card-body">
                            <div class="input-group mb-3">
                                <input type="text" id="input-new-group" class="form-control" placeholder="新增組別...">
                                <button class="btn btn-outline-primary" id="btn-add-group" type="button">新增</button>
                            </div>
                            <ul class="list-group list-group-flush border-top" id="list-groups"></ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-end mt-3">
                <button class="btn btn-success px-4" id="btn-save-params">
                    <i class="bi bi-check-lg"></i> 儲存參數設定
                </button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="createUnitModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-warning text-dark">
                <h5 class="modal-title">新增護理單位</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="create-unit-form">
                    <div class="mb-3">
                        <label class="form-label">單位代號 (ID) <span class="text-danger">*</span></label>
                        <input type="text" id="new-unit-id" class="form-control" required placeholder="例如: ER (急診)">
                        <div class="form-text text-danger">設定後無法修改，請謹慎填寫。</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">單位名稱 <span class="text-danger">*</span></label>
                        <input type="text" id="new-unit-name" class="form-control" required placeholder="例如: 急診室">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="btn-confirm-create-unit">建立單位</button>
            </div>
        </div>
    </div>
</div>

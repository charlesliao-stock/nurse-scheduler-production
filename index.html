<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 醫院排班管理系統</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>

    <div id="login-view">
        <div class="login-card">
            <h2><i class="fas fa-hospital-user"></i> 系統登入</h2>
            
            <input type="email" id="loginEmail" placeholder="Email" value="">
            <input type="password" id="loginPassword" placeholder="密碼">
            
            <button class="btn btn-primary" onclick="app.login()">登入</button>
            <p id="loginError" style="color:red; margin-top:10px; font-size:0.9rem; min-height: 20px;"></p>

            <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee;">
                <a href="signup.html" style="text-decoration: none; color: #3498db; font-size: 0.9rem; font-weight: bold;">
                    <i class="fas fa-user-plus"></i> 第一次使用？(帳號開通)
                </a>
            </div>
        </div>
    </div>

    <div id="app-view">
        <nav id="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-heartbeat" style="margin-right:10px;"></i> 排班系統
            </div>
            <div class="user-info">
                <div id="displayUserName" style="font-weight:bold;">載入中...</div>
                <div id="displayUserRole" class="role-badge">...</div>
            </div>
            
            <ul class="menu-list" id="dynamicMenu"></ul>

            <div style="padding:20px; margin-top: auto;">
                <button class="btn" style="background:#c0392b; width:100%;" onclick="app.logout()">
                    <i class="fas fa-sign-out-alt"></i> 登出
                </button>
            </div>
        </nav>

        <main id="main-content">
            <button id="bookmark-toggle" onclick="app.toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
            
            <div id="content-area"></div>
        </main>
    </div>

    <script src="js/config.js"></script>
    <script src="js/modules/staff_manager.js"></script>
    <script src="js/modules/shift_manager.js"></script>
    <script src="js/modules/group_manager.js"></script>
    <script src="js/router.js"></script>
    <script src="js/modules/unit_manager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>



